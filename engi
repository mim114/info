    ****ТРИЗ****
1. Переверни алгоритм. Шоколаднаяя бутылочка с вореньем внутри.

    ****ПАТЕРНЫ ПРОЭКТИРОВАНИЯ****
1. Разделение кода на неизменный и потенциально изменяемый.
